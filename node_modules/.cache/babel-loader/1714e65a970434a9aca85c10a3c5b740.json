{"ast":null,"code":"var _jsxFileName = \"/Users/robertocandales/Documents/ecommerce/frontend/src/Components/EditProduct/EditProduct.js\";\nimport React, { useEffect, useState } from 'react';\nimport UploadProduct from '../global/Upload/UploadProduct';\nimport { WrapperTitle, CustomInput, ProductForm, ProductFields, CustomCard, ButtonWrapper } from './styles';\nimport { useSelector } from 'react-redux';\nimport { useParams } from 'react-router';\nimport { useHistory } from 'react-router';\nimport { Form, Button, Typography } from 'antd';\nimport Notification from '../global/Notification';\nimport { newProduct } from '../../Api/ProductsApi';\nconst {\n  Title\n} = Typography;\n\nconst EditProduct = () => {\n  const [form] = Form.useForm();\n  let history = useHistory();\n\n  const redirect = ({\n    route\n  }) => {\n    history.push(route);\n  };\n\n  const {\n    id\n  } = useParams();\n  const {\n    products\n  } = useSelector(store => store.product);\n  const {\n    login,\n    token\n  } = useSelector(store => store.login);\n  const [fileList, setFileList] = useState([]);\n  const [thumbUrl, setHhumbUrl] = useState('');\n  const [loading, setloading] = useState(false);\n  const [editProduct, setEditProduct] = useState('');\n  console.log(editProduct);\n  useEffect(() => {\n    const product = products.find(product => product._id === id);\n    setEditProduct(product);\n    form.setFieldsValue({\n      name: product.name,\n      description: product.description,\n      price: product.price,\n      image: product.image\n    });\n    setloading(false);\n  }, [products, id]);\n\n  const formatData = (values, fileList) => {\n    return {\n      name: values.name,\n      description: values.description,\n      price: values.price,\n      image: fileList.thumbUrl\n    };\n  };\n\n  const onFinish = async values => {\n    setloading(true);\n    const data = formatData(values, thumbUrl);\n    console.log(data);\n    const res = await newProduct(data, token);\n    console.log(res);\n\n    if (!res.data.error) {\n      Notification({\n        message: 'Producto guardado de forma existosa',\n        type: 'success'\n      });\n      setloading(false);\n    } else {\n      if (res.data.error === 'No token, authorization denied') {\n        Notification({\n          message: 'Debe iniciar sesion para poder cargar productos',\n          type: 'error'\n        });\n        setloading(false);\n      }\n\n      if (res.data.error === 'Token is no valid') {\n        Notification({\n          message: 'Problemas de inicio de sesion, debe inicar sesion nuevamente',\n          type: 'error'\n        });\n        setloading(false);\n      }\n    }\n\n    setloading(false);\n  };\n\n  const onFinishFailed = errorInfo => {\n    Notification({\n      message: 'Verifique los campos',\n      type: 'error'\n    });\n  };\n\n  const normFile = e => {\n    if (Array.isArray(e)) {\n      return e;\n    }\n\n    return e && e.fileList;\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"site-card-border-less-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CustomCard, {\n    hoverable: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(WrapperTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    type: \"secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }\n  }, \"Cargar Nuevo Producto \")), /*#__PURE__*/React.createElement(Form, {\n    form: form,\n    name: \"Product\",\n    layout: \"vertical\",\n    initialValues: {\n      remember: true\n    },\n    onFinish: onFinish,\n    onFinishFailed: onFinishFailed,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ProductFields, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ProductForm, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"Nombre\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"name\",\n    rules: [{\n      required: true,\n      message: 'Campo requerido'\n    }],\n    noStyle: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(CustomInput, {\n    placeholder: \"Nombre del Producto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"Descripcion\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"description\",\n    rules: [{\n      required: true,\n      message: 'Campo requerido'\n    }],\n    noStyle: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(CustomInput, {\n    placeholder: \"Descripcion del Producto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 19\n    }\n  })))), /*#__PURE__*/React.createElement(ProductForm, {\n    direction: 'row',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"Precio\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"price\",\n    rules: [{\n      required: true,\n      message: 'Campo requerido'\n    }],\n    noStyle: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(CustomInput, {\n    width: '150px',\n    placeholder: \"Precio del Producto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 19\n    }\n  }))), ' ', /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"Imagen\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"image\",\n    valuePropName: \"fileList\",\n    getValueFromEvent: normFile,\n    extra: \"\",\n    style: {\n      display: 'flex'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(UploadProduct, {\n    fileList: fileList,\n    setFileList: setFileList,\n    action: \"/upload.do\",\n    listType: \"picture\",\n    setHhumbUrl: setHhumbUrl,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 19\n    }\n  }))))), /*#__PURE__*/React.createElement(ButtonWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    ghost: true,\n    style: {\n      color: '#111d2c'\n    },\n    loading: loading,\n    htmlType: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 15\n    }\n  }, \"Cargar Producto\", ' '))))));\n};\n\nexport default EditProduct;","map":{"version":3,"sources":["/Users/robertocandales/Documents/ecommerce/frontend/src/Components/EditProduct/EditProduct.js"],"names":["React","useEffect","useState","UploadProduct","WrapperTitle","CustomInput","ProductForm","ProductFields","CustomCard","ButtonWrapper","useSelector","useParams","useHistory","Form","Button","Typography","Notification","newProduct","Title","EditProduct","form","useForm","history","redirect","route","push","id","products","store","product","login","token","fileList","setFileList","thumbUrl","setHhumbUrl","loading","setloading","editProduct","setEditProduct","console","log","find","_id","setFieldsValue","name","description","price","image","formatData","values","onFinish","data","res","error","message","type","onFinishFailed","errorInfo","normFile","e","Array","isArray","remember","required","display","color"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport UploadProduct from '../global/Upload/UploadProduct';\nimport {\n  WrapperTitle,\n  CustomInput,\n  ProductForm,\n  ProductFields,\n  CustomCard,\n  ButtonWrapper,\n} from './styles';\nimport { useSelector } from 'react-redux';\nimport { useParams } from 'react-router';\nimport { useHistory } from 'react-router';\nimport { Form, Button, Typography } from 'antd';\nimport Notification from '../global/Notification';\nimport { newProduct } from '../../Api/ProductsApi';\nconst { Title } = Typography;\n\nconst EditProduct = () => {\n  const [form] = Form.useForm();\n  let history = useHistory();\n\n  const redirect = ({ route }) => {\n    history.push(route);\n  };\n  const { id } = useParams();\n  const { products } = useSelector((store) => store.product);\n  const { login, token } = useSelector((store) => store.login);\n  const [fileList, setFileList] = useState([]);\n  const [thumbUrl, setHhumbUrl] = useState('');\n\n  const [loading, setloading] = useState(false);\n  const [editProduct, setEditProduct] = useState('');\n  console.log(editProduct);\n\n  useEffect(() => {\n    const product = products.find((product) => product._id === id);\n    setEditProduct(product);\n    form.setFieldsValue({\n      name: product.name,\n      description: product.description,\n      price: product.price,\n      image: product.image,\n    });\n    setloading(false);\n  }, [products, id]);\n\n  const formatData = (values, fileList) => {\n    return {\n      name: values.name,\n      description: values.description,\n      price: values.price,\n      image: fileList.thumbUrl,\n    };\n  };\n  const onFinish = async (values) => {\n    setloading(true);\n    const data = formatData(values, thumbUrl);\n    console.log(data);\n    const res = await newProduct(data, token);\n    console.log(res);\n    if (!res.data.error) {\n      Notification({\n        message: 'Producto guardado de forma existosa',\n        type: 'success',\n      });\n      setloading(false);\n    } else {\n      if (res.data.error === 'No token, authorization denied') {\n        Notification({\n          message: 'Debe iniciar sesion para poder cargar productos',\n          type: 'error',\n        });\n        setloading(false);\n      }\n      if (res.data.error === 'Token is no valid') {\n        Notification({\n          message: 'Problemas de inicio de sesion, debe inicar sesion nuevamente',\n          type: 'error',\n        });\n        setloading(false);\n      }\n    }\n    setloading(false);\n  };\n\n  const onFinishFailed = (errorInfo) => {\n    Notification({\n      message: 'Verifique los campos',\n      type: 'error',\n    });\n  };\n  const normFile = (e) => {\n    if (Array.isArray(e)) {\n      return e;\n    }\n\n    return e && e.fileList;\n  };\n  return (\n    <div className='site-card-border-less-wrapper'>\n      <CustomCard hoverable>\n        <WrapperTitle>\n          <Title type='secondary'>Cargar Nuevo Producto </Title>\n        </WrapperTitle>\n        <Form\n          form={form}\n          name='Product'\n          layout='vertical'\n          initialValues={{ remember: true }}\n          onFinish={onFinish}\n          onFinishFailed={onFinishFailed}>\n          <ProductFields>\n            <ProductForm>\n              <Form.Item label='Nombre'>\n                <Form.Item\n                  name='name'\n                  rules={[{ required: true, message: 'Campo requerido' }]}\n                  noStyle>\n                  <CustomInput placeholder='Nombre del Producto' />\n                </Form.Item>\n              </Form.Item>\n              <Form.Item label='Descripcion'>\n                <Form.Item\n                  name='description'\n                  rules={[{ required: true, message: 'Campo requerido' }]}\n                  noStyle>\n                  <CustomInput placeholder='Descripcion del Producto' />\n                </Form.Item>\n              </Form.Item>\n            </ProductForm>\n            <ProductForm direction={'row'}>\n              <Form.Item label='Precio'>\n                <Form.Item\n                  name='price'\n                  rules={[{ required: true, message: 'Campo requerido' }]}\n                  noStyle>\n                  <CustomInput width={'150px'} placeholder='Precio del Producto' />\n                </Form.Item>\n              </Form.Item>{' '}\n              <Form.Item label='Imagen'>\n                <Form.Item\n                  name='image'\n                  valuePropName='fileList'\n                  getValueFromEvent={normFile}\n                  extra=''\n                  style={{ display: 'flex' }}>\n                  <UploadProduct\n                    fileList={fileList}\n                    setFileList={setFileList}\n                    action='/upload.do'\n                    listType='picture'\n                    setHhumbUrl={setHhumbUrl}\n                  />\n                </Form.Item>\n              </Form.Item>\n            </ProductForm>\n          </ProductFields>\n          <ButtonWrapper>\n            <Form.Item>\n              <Button\n                type='primary'\n                ghost\n                style={{ color: '#111d2c' }}\n                loading={loading}\n                htmlType='submit'>\n                Cargar Producto{' '}\n              </Button>\n            </Form.Item>\n          </ButtonWrapper>\n        </Form>\n      </CustomCard>\n    </div>\n  );\n};\n\nexport default EditProduct;\n"]},"metadata":{},"sourceType":"module"}